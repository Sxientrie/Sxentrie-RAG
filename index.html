<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sxentrie: Beyond the clone</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=IBM+Plex+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.17.0",
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.418.0",
    "react-markdown": "https://aistudiocdn.com/react-markdown@^9.0.1",
    "remark-gfm": "https://aistudiocdn.com/remark-gfm@^4.0.0",
    "react-syntax-highlighter": "https://aistudiocdn.com/react-syntax-highlighter@^15.5.0",
    "react-syntax-highlighter/dist/esm/styles/prism/": "https://aistudiocdn.com/react-syntax-highlighter@^15.5.0/dist/esm/styles/prism/",
    "react-syntax-highlighter/": "https://aistudiocdn.com/react-syntax-highlighter@^15.6.6/"
  }
}
</script>
<style>
      :root {
        --background: oklch(15.7% 0 0);
        --surface: oklch(20% 0 0);
        --primary: oklch(65% 0.12 145); /* Muted shadcn-style green */
        --primary-foreground: oklch(15.7% 0 0);
        --foreground: oklch(95% 0 0);
        --muted-foreground: oklch(65% 0 0);
        --error: oklch(58% 0.12 12);
        --border: oklch(28% 0 0);
        
        --font-family-sans: 'IBM Plex Sans', sans-serif;
        --font-family-mono: 'IBM Plex Mono', monospace;
        --radius: 0.5rem; /* shadcn-style border radius */
      }
      /* Reset and base styles */
      * { box-sizing: border-box; }
      html {
        background-color: var(--background);
      }
      body {
        font-family: var(--font-family-sans);
        color: var(--foreground);
        margin: 0;
        height: 100vh;
        overflow: hidden;
        position: relative; /* Needed for positioning pseudo-elements */
      }
      /* Custom focus-visible styles for accessibility and aesthetics */
      :focus-visible {
        outline: 1px solid oklch(95% 0 0 / 0.6); /* Thinner, less vibrant outline */
        outline-offset: 2px;
      }


      /* Subtle background glow effect */
      body::before,
      body::after {
        content: '';
        position: absolute;
        z-index: -1;
        width: 800px;
        height: 800px;
        border-radius: 50%;
        filter: blur(150px);
      }

      /* Left glow */
      body::before {
        top: 50%;
        left: 0;
        transform: translate(-50%, -50%);
        background: radial-gradient(circle, oklch(65% 0.12 145 / 0.25) 0%, transparent 60%);
      }

      /* Right glow */
      body::after {
        top: 50%;
        right: 0;
        transform: translate(50%, -50%);
        background: radial-gradient(circle, oklch(65% 0.12 145 / 0.25) 0%, transparent 60%);
      }

      #root { display: contents; }

      /* Main App Layout */
      .main-app {
        display: grid;
        grid-template-columns: minmax(280px, 1.2fr) 2fr 2fr;
        grid-template-rows: auto 1fr auto;
        grid-template-areas:
          "page-header page-header page-header"
          "sidebar main analysis"
          "page-footer page-footer page-footer";
        height: 100vh;
        gap: 8px;
        padding: 8px;
        isolation: isolate; /* Create a new stacking context */
        transition: grid-template-columns 0.25s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .page-header {
        grid-area: page-header;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1.5rem;
        padding: 0 16px;
        height: 34px;
      }
      .app-title {
        display: flex;
        align-items: center;
        gap: 12px;
        color: var(--primary);
      }
      .page-header h1 {
        margin: 0;
        font-size: 12px;
        font-weight: 500;
        color: var(--foreground);
      }
      .page-header h1 code {
        font-family: var(--font-family-mono);
        font-size: 12px;
        background-color: var(--background);
        padding: 0.1em 0.4em;
        border-radius: 4px;
        border: 1px solid var(--border);
        vertical-align: baseline;
      }

      .page-footer {
        grid-area: page-footer;
        text-align: center;
        padding: 4px;
        font-size: 0.75rem;
        color: var(--muted-foreground);
      }
      .page-footer p { margin: 0; }
      
      .panel {
        background-color: var(--surface);
        border-radius: var(--radius);
        border: 1px solid var(--border);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        min-width: 0; /* Prevent grid blowout */
      }
      
      .panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;
        padding: 0 1rem;
        border-bottom: 1px solid var(--border);
        flex-shrink: 0;
        height: 50px;
      }
      .panel.collapsed .panel-header {
        border-bottom: none;
        justify-content: center;
        padding-left: 0;
        padding-right: 0;
      }
      .panel-title {
        margin: 0;
        border-bottom: none;
        padding-bottom: 0;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 1rem;
        font-weight: 500;
        color: var(--foreground);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .panel-title-wrapper {
        min-width: 0;
        overflow: hidden;
      }
      .panel-actions-wrapper {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        flex-shrink: 0;
      }
      .panel-toggle-btn {
        background: none; border: none; color: var(--muted-foreground);
        cursor: pointer; padding: 4px; border-radius: var(--radius);
        display: inline-flex; align-items: center; justify-content: center;
        transition: all 0.2s ease;
      }
      .panel-toggle-btn:hover {
        background-color: oklch(100% 0 0 / 0.1); color: var(--foreground);
      }

      .panel-content {
        padding: 0.75rem 1rem;
        flex-grow: 1;
        min-height: 0;
        overflow: auto;
        display: flex;
        flex-direction: column;
      }

      .placeholder {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        flex-grow: 1;
        color: var(--muted-foreground);
        font-size: 1rem;
        text-align: center;
        gap: 1rem;
      }
      .error-message {
        color: var(--error);
        background-color: oklch(58% 0.12 12 / 0.1);
        padding: 1rem;
        border-radius: var(--radius);
        border: 1px solid var(--error);
        white-space: pre-wrap;
        font-family: var(--font-family-mono);
      }

      /* Error Boundary Fallback */
      .error-boundary-fallback {
          height: 100%;
          width: 100%;
          display: flex; /* Override panel's flex-direction */
          justify-content: center;
          align-items: center;
      }
      .error-boundary-fallback .placeholder {
          height: auto; /* Don't take full height within the boundary panel */
      }
      .error-boundary-title {
          margin: 0;
          color: var(--foreground);
      }
      .error-boundary-reset-btn {
        padding: 0.4rem 1rem;
        border: 1px solid var(--border);
        border-radius: var(--radius);
        background-color: transparent;
        color: var(--foreground);
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
        white-space: nowrap;
        font-size: 0.9rem;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }
      .error-boundary-reset-btn:hover {
          background-color: oklch(100% 0 0 / 0.1);
          border-color: var(--primary);
          color: var(--primary);
      }

      /* Loading spinner */
      .loading-spinner, .loading-spinner:after { border-radius: 50%; width: 2.5em; height: 2.5em; }
      .loading-spinner {
        margin: 60px auto; font-size: 10px; position: relative; text-indent: -9999em;
        border-top-color: oklch(100% 0 0 / 0.2);
        border-right-color: oklch(100% 0 0 / 0.2);
        border-bottom-color: oklch(100% 0 0 / 0.2);
        border-left-color: var(--primary);
        border-style: solid;
        border-width: 0.3em;
        transform: translateZ(0);
        animation: spin 1.1s infinite linear;
      }
      @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
      
      /* Markdown specific styles */
      .markdown-content { font-size: 0.95rem; }
      .markdown-content h1, .markdown-content h2, .markdown-content h3 {
        border-bottom: 1px solid var(--border);
        padding-bottom: 0.5rem;
        margin-top: 1.5rem;
        color: var(--foreground);
      }
      .markdown-content p, .markdown-content ul, .markdown-content ol {
        color: var(--muted-foreground);
        line-height: 1.6;
      }
       .markdown-content strong {
        color: var(--foreground);
       }
      .markdown-content code {
        color: var(--primary);
        background-color: var(--background);
        padding: 0.2em 0.4em;
        margin: 0;
        font-size: 85%;
        border-radius: calc(var(--radius) - 4px);
        font-family: var(--font-family-mono);
      }
      .markdown-content pre > code {
         color: var(--foreground);
         padding: 0;
         background-color: transparent;
      }
       .markdown-content pre {
        padding: 1rem;
        border-radius: var(--radius);
        background-color: var(--background) !important;
      }
       
      .analysis-config h4 { margin: 0 0 0.5rem 0; font-size: 0.9rem; font-weight: 500; }
      .analysis-actions {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 0.5rem;
      }
      .analysis-scope-radios { display: flex; gap: 1rem; }
      
      /* Custom Radio Button Styles */
      .analysis-scope-radios label {
        display: inline-flex;
        align-items: center;
        cursor: pointer;
        position: relative;
        user-select: none;
      }
      .analysis-scope-radios label > span:last-of-type {
        font-size: 0.8rem;
      }
      .analysis-scope-radios input[type="radio"] {
        position: absolute;
        opacity: 0;
        width: 1px;
        height: 1px;
        margin: -1px;
        padding: 0;
        overflow: hidden;
        border: 0;
        clip: rect(0 0 0 0);
      }
      .custom-radio {
        display: inline-block;
        width: 16px;
        height: 16px;
        border: 1px solid var(--border);
        border-radius: 50%;
        background-color: var(--background);
        transition: all 0.2s ease;
        flex-shrink: 0;
        position: relative;
        margin-right: 0.5rem;
      }
      .analysis-scope-radios label:hover .custom-radio {
        border-color: var(--muted-foreground);
      }
      .analysis-scope-radios input[type="radio"]:checked + .custom-radio {
        border-color: var(--primary);
      }
      .analysis-scope-radios input[type="radio"] + .custom-radio::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background-color: var(--primary);
        transform: translate(-50%, -50%) scale(0);
        transition: transform 0.2s ease;
      }
      .analysis-scope-radios input[type="radio"]:checked + .custom-radio::after {
        transform: translate(-50%, -50%) scale(1);
      }
      .analysis-scope-radios input[type="radio"]:focus-visible + .custom-radio {
        outline: 2px solid var(--primary);
        outline-offset: 2px;
      }
      .analysis-scope-radios input[type="radio"]:disabled + .custom-radio {
        background-color: var(--surface);
        border-color: var(--border);
        opacity: 0.6;
      }
      .analysis-scope-radios input[type="radio"]:disabled ~ span {
        cursor: not-allowed;
        color: var(--muted-foreground);
        opacity: 0.6;
      }


      /* Scrollbar */
      /* Firefox */
      * {
        scrollbar-width: thin;
        scrollbar-color: oklch(41% 0 0) transparent;
      }

      /* Webkit (Chrome, Safari, etc.) */
      ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: oklch(41% 0 0);
        border-radius: 3px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: oklch(54% 0 0);
      }
      
      /* File Tree Search */
      .file-search-input-wrapper {
        position: relative;
        margin-bottom: 0.75rem; /* Space between search and tree */
      }
      .file-search-input-wrapper svg {
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--muted-foreground);
        pointer-events: none;
      }
      .file-search-input {
        width: 100%;
        padding: 0.35rem 0.75rem 0.35rem 2.25rem;
        background-color: var(--background);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        color: var(--foreground);
        font-family: var(--font-family-sans);
        font-size: 0.9rem;
        transition: border-color 0.2s;
      }
      .file-search-input:focus {
          outline: none;
          border-color: var(--primary);
      }
      .file-search-input::placeholder {
        color: var(--muted-foreground);
      }
      .file-search-input:disabled {
          background-color: var(--surface);
          cursor: not-allowed;
      }
</style>
<link rel="stylesheet" href="/index.css">
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>